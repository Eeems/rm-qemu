#!/bin/sh
if [ $# -ne 3 ]; then
  echo "Usage: version-test <version1> <condition> <version2>" >/dev/stderr
  echo "  Examples:" >/dev/stderr
  echo '    version-test 10.1 -eq $version' >/dev/stderr
  echo '    version-test $version -gt 19.0.0.1' >/dev/stderr
  exit 1
fi
version() { echo "$@" | awk -F. '{ printf("%d%04d%04d%04d\n", $1,$2,$3,$4); }'; }
set -e
# shellcheck disable=SC1072,SC1073
[ "$(version "$1")" "$2" "$(version "$3")" ]
